{"version":3,"sources":["node_modules/browser-pack/_prelude.js","background/eventPage.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"eventPage.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function() {\r\n\t\"use strict\";\r\n\r\n\tchrome.runtime.onInstalled.addListener(initializeDB);\r\n\r\n\t/**\r\n\t * 1: fallBackLanguage: 1: 'en' || 2: 'es' || 3: 'pt' || 4: 'ru'\r\n\t * 2: popupMode: 1:'default' || 2: 'shortcut'\r\n\t * 3: shortcutToShowPopover: 'keyId + keyId'\r\n\t * 4: listOfLanguagesToProcess: [1?, 2?, 3?, 4?]\r\n\t * 5: isPopoverEnabled : true || false\r\n\t */\r\n\tasync function initializeDB() {\r\n\r\n\t\tlet wikilinkData = JSON.stringify({\r\n\t\t\t1: 'en',\r\n\t\t\t2: 'shortcut',\r\n\t\t\t3: ['ShiftLeft', 'AltLeft'],\r\n\t\t\t4: ['por', 'eng', 'esp', 'rus'],\r\n\t\t\t5: true\r\n\t\t});\r\n\r\n\t\tretrieve().then(response => {\r\n\t\t\tif (typeof response !== 'object') {\r\n\t\t\t\tchrome.storage.sync.set({ wldt: wikilinkData }, () => {});\r\n\t\t\t}\r\n\t\t}).catch(error => {\r\n\t\t\tchrome.storage.sync.set({ wldt: wikilinkData }, () => {});\r\n\t\t\tchrome.runtime.reload();\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tfunction retrieve(property = '') {\r\n\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\tvar dataString = '';\r\n\t\t\ttry {\r\n\t\t\t\tdataString = await new Promise(resolve => chrome.storage.sync.get('wldt', obj => resolve(obj['wldt'])));\r\n\t\t\t\tvar data = JSON.parse(dataString);\r\n\r\n\t\t\t\tif (property.length > 0)\r\n\t\t\t\t\tresolve(data[this._encodeProp(property)])\r\n\t\t\t\telse resolve(data);\r\n\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(\"Is on catch block\");\r\n\t\t\t\treject(error);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\t// chrome.contextMenus.create({\r\n\t//     title: 'Search \\\"%s\\\" on Wikipedia',\r\n\t//     contexts: [\"selection\"],\r\n\t//     onclick: function (info) {\r\n\t//         const url = `http://www.wikipedia.org/w/index.php?title=Special:Search&search=${info.selectionText}`;\r\n\t//         chrome.tabs.create({\r\n\t//             url: url\r\n\t//         });\r\n\t//     }\r\n\t// });\r\n\r\n}());"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJiYWNrZ3JvdW5kL2V2ZW50UGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIoZnVuY3Rpb24oKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdGNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKGluaXRpYWxpemVEQik7XHJcblxyXG5cdC8qKlxyXG5cdCAqIDE6IGZhbGxCYWNrTGFuZ3VhZ2U6IDE6ICdlbicgfHwgMjogJ2VzJyB8fCAzOiAncHQnIHx8IDQ6ICdydSdcclxuXHQgKiAyOiBwb3B1cE1vZGU6IDE6J2RlZmF1bHQnIHx8IDI6ICdzaG9ydGN1dCdcclxuXHQgKiAzOiBzaG9ydGN1dFRvU2hvd1BvcG92ZXI6ICdrZXlJZCArIGtleUlkJ1xyXG5cdCAqIDQ6IGxpc3RPZkxhbmd1YWdlc1RvUHJvY2VzczogWzE/LCAyPywgMz8sIDQ/XVxyXG5cdCAqIDU6IGlzUG9wb3ZlckVuYWJsZWQgOiB0cnVlIHx8IGZhbHNlXHJcblx0ICovXHJcblx0YXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZURCKCkge1xyXG5cclxuXHRcdGxldCB3aWtpbGlua0RhdGEgPSBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdDE6ICdlbicsXHJcblx0XHRcdDI6ICdzaG9ydGN1dCcsXHJcblx0XHRcdDM6IFsnU2hpZnRMZWZ0JywgJ0FsdExlZnQnXSxcclxuXHRcdFx0NDogWydwb3InLCAnZW5nJywgJ2VzcCcsICdydXMnXSxcclxuXHRcdFx0NTogdHJ1ZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0cmlldmUoKS50aGVuKHJlc3BvbnNlID0+IHtcclxuXHRcdFx0aWYgKHR5cGVvZiByZXNwb25zZSAhPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7IHdsZHQ6IHdpa2lsaW5rRGF0YSB9LCAoKSA9PiB7fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pLmNhdGNoKGVycm9yID0+IHtcclxuXHRcdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeyB3bGR0OiB3aWtpbGlua0RhdGEgfSwgKCkgPT4ge30pO1xyXG5cdFx0XHRjaHJvbWUucnVudGltZS5yZWxvYWQoKTtcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZXRyaWV2ZShwcm9wZXJ0eSA9ICcnKSB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR2YXIgZGF0YVN0cmluZyA9ICcnO1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGRhdGFTdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd3bGR0Jywgb2JqID0+IHJlc29sdmUob2JqWyd3bGR0J10pKSk7XHJcblx0XHRcdFx0dmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpO1xyXG5cclxuXHRcdFx0XHRpZiAocHJvcGVydHkubGVuZ3RoID4gMClcclxuXHRcdFx0XHRcdHJlc29sdmUoZGF0YVt0aGlzLl9lbmNvZGVQcm9wKHByb3BlcnR5KV0pXHJcblx0XHRcdFx0ZWxzZSByZXNvbHZlKGRhdGEpO1xyXG5cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIklzIG9uIGNhdGNoIGJsb2NrXCIpO1xyXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIGNocm9tZS5jb250ZXh0TWVudXMuY3JlYXRlKHtcclxuXHQvLyAgICAgdGl0bGU6ICdTZWFyY2ggXFxcIiVzXFxcIiBvbiBXaWtpcGVkaWEnLFxyXG5cdC8vICAgICBjb250ZXh0czogW1wic2VsZWN0aW9uXCJdLFxyXG5cdC8vICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoaW5mbykge1xyXG5cdC8vICAgICAgICAgY29uc3QgdXJsID0gYGh0dHA6Ly93d3cud2lraXBlZGlhLm9yZy93L2luZGV4LnBocD90aXRsZT1TcGVjaWFsOlNlYXJjaCZzZWFyY2g9JHtpbmZvLnNlbGVjdGlvblRleHR9YDtcclxuXHQvLyAgICAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7XHJcblx0Ly8gICAgICAgICAgICAgdXJsOiB1cmxcclxuXHQvLyAgICAgICAgIH0pO1xyXG5cdC8vICAgICB9XHJcblx0Ly8gfSk7XHJcblxyXG59KCkpOyJdfQ=="}